"use strict";(self.webpackChunkreact_kabzda_2=self.webpackChunkreact_kabzda_2||[]).push([[989],{2989:(t,s,e)=>{e.r(s),e.d(s,{default:()=>D});var o=e(2791);const r="Profile_content__IU+n2",i="ProfileInfo_description_block__8mNr5";var a=e(4922),n=e(5618),l=e(6139),c=e(704),u=e(184);class d extends o.Component{constructor(){super(...arguments),this.state={editMode:!1,status:this.props.status}}activateMode(){this.setState({editMode:!0})}deActivateMode(){this.setState({editMode:!1}),this.props.updateStatusTC(this.state.status)}onChangeStatus(t){let s=t.currentTarget.value;this.setState({status:s})}componentDidUpdate(t,s){t.status!==this.props.status&&this.setState({status:this.props.status})}render(){return(0,u.jsx)("div",{children:this.state.editMode?(0,u.jsx)("input",{autoFocus:!0,onChange:this.onChangeStatus.bind(this),onBlur:this.deActivateMode.bind(this),value:this.state.status,type:"text"}):(0,u.jsx)("span",{onDoubleClick:this.activateMode.bind(this),children:this.props.status?this.props.status:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})}}(0,c.Z)({form:"statusForm"})((t=>(0,u.jsx)(l.Z,{autoFocus:!0,onBlur:t.deActivateMode,name:"statusInput",component:"input"})));const p=d;var h=e(4420),f=e(8161);(0,h.$j)((t=>({status:t.profilePage.statusText})),{onChangeStatusAC:f.tG})(p);const m=t=>{let[s,e]=(0,o.useState)(!1),[r,i]=(0,o.useState)(t.status);(0,o.useEffect)((()=>{i(t.status)}),[t.status]);return(0,u.jsx)("div",{children:s?(0,u.jsx)("input",{autoFocus:!0,onChange:t=>{i(t.currentTarget.value)},onBlur:()=>{e(!1),t.updateStatusTC(r)},value:r,type:"text"}):(0,u.jsx)("span",{onDoubleClick:()=>{e(!0)},children:t.status?t.status:"\u0412\u0432\u0435\u0434\u0456\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441"})})},x=t=>t.profile?(0,u.jsxs)("div",{children:[(0,u.jsx)("img",{src:"https://img.freepik.com/free-photo/landscape-of-morning-fog-and-mountains-with-hot-air-balloons-at-sunrise_335224-794.jpg?size=626&ext=jpg&ga=GA1.1.1546980028.1703721600&semt=sph"}),(0,u.jsxs)("div",{className:i,children:[(0,u.jsx)("img",{src:null==t.profile.photos.large?n:t.profile.photos.large}),null===t.profile.fullName?"Name":t.profile.fullName,(0,u.jsxs)("div",{children:[null===t.profile.aboutMe?"About me":t.profile.aboutMe,(0,u.jsx)("div",{children:(0,u.jsx)(m,{status:t.status,updateStatusTC:t.updateStatusTC})})]}),(0,u.jsxs)("div",{children:["Contacts",(0,u.jsxs)("ul",{children:[t.profile.contacts.facebook?(0,u.jsx)("li",{children:"Facebook:".concat(t.profile.contacts.facebook)}):"",t.profile.contacts.website?(0,u.jsx)("li",{children:"Website:".concat(t.profile.contacts.website)}):"",t.profile.contacts.vk?(0,u.jsx)("li",{children:"vk:".concat(t.profile.contacts.vk)}):"",t.profile.contacts.twitter?(0,u.jsx)("li",{children:"Twitter:".concat(t.profile.contacts.twitter)}):"",t.profile.contacts.instagram?(0,u.jsx)("li",{children:"Instagram:".concat(t.profile.contacts.instagram)}):"",t.profile.contacts.youtube?(0,u.jsx)("li",{children:"Youtube:".concat(t.profile.contacts.youtube)}):"",t.profile.contacts.github?(0,u.jsx)("li",{children:"Github:".concat(t.profile.contacts.github)}):"",t.profile.contacts.mainLink?(0,u.jsx)("li",{children:"MainLink:".concat(t.profile.contacts.mainLink)}):""]})]})]})]}):(0,u.jsx)(a.Z,{}),j={content:"MyPosts_content__2T5Mh",item:"MyPosts_item__flEDv"},v="Post_item__9DbPL",g=t=>(0,u.jsxs)("div",{className:v,children:[(0,u.jsx)("img",{src:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQg8gaNRMVq9hltpqT_lMVJ7AfWUaUMXl_Yig&usqp=CAU",alt:""}),(0,u.jsx)("span",{children:t.message}),(0,u.jsxs)("p",{children:[t.likeCount," LIKES"]})]});var C=e(8155),b=e(975);const _=o.memo((0,c.Z)({form:"postForm"})((t=>(0,u.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,u.jsx)("div",{children:(0,u.jsx)(l.Z,{component:b.Kx,name:"postText",validate:[C.C1,(0,C.DT)(120)]})}),(0,u.jsx)("div",{children:(0,u.jsx)("button",{children:"Add post"})})]})))),S=t=>{let s=[...t.state.postData].reverse().map((t=>(0,u.jsx)(g,{message:t.message,likeCount:t.likeCount},t.id)));return(0,u.jsxs)("div",{className:j.content,children:[(0,u.jsx)("div",{children:(0,u.jsx)("h3",{children:"My posts"})}),(0,u.jsx)(_,{onSubmit:s=>{t.addPost(s.postText)}}),(0,u.jsx)("div",{className:j.posts,children:s})]})};const T=(0,h.$j)((t=>({state:t.profilePage})),(t=>({addPost:s=>{t((0,f.Wl)(s))}})))(S),k=t=>(0,u.jsxs)("div",{className:r,children:[(0,u.jsx)(x,{profile:t.profile,status:t.status,updateStatusTC:t.updateStatusTC}),(0,u.jsx)(T,{})]});var M=e(7689),P=e(1548),N=e(1154);class A extends o.Component{componentDidMount(){let t=this.props.router.params.userId;t||(t=this.props.id,t||this.props.history.push("/login")),this.props.getUserProfileTC(t),this.props.onSetStatusTC(t)}render(){return(0,u.jsx)(k,{...this.props,profile:this.props.profile,status:this.props.status,updateStatusTC:this.props.updateStatusTC})}}const D=(0,N.qC)((0,h.$j)((t=>({profile:t.profilePage.profile,status:t.profilePage.statusText,id:t.auth.id,isAuth:t.auth.isAuth})),{getUserProfileTC:f.d$,onSetStatusTC:f.qB,updateStatusTC:f.OG}),(function(t){return function(s){let e=(0,M.TH)(),o=(0,M.s0)(),r=(0,M.UO)();return(0,u.jsx)(t,{...s,router:{location:e,navigate:o,params:r}})}}),P.D)(A)},975:(t,s,e)=>{e.d(s,{II:()=>n,Kx:()=>a,ck:()=>l});e(2791);var o=e(2233),r=e(6139),i=e(184);const a=t=>{let{input:s,meta:e,...r}=t;const a=e.touched&&e.error;return(0,i.jsxs)("div",{className:o.Z.form\u0421ontrol+" "+(a&&o.Z.error),children:[(0,i.jsx)("div",{children:(0,i.jsx)("textarea",{...s,...r})}),a&&(0,i.jsx)("span",{children:e.error})]})},n=t=>{let{input:s,meta:e,...r}=t;const a=e.touched&&e.error;return(0,i.jsxs)("div",{className:o.Z.form\u0421ontrol+" "+(a&&o.Z.error),children:[(0,i.jsx)("div",{children:(0,i.jsx)("input",{...s,...r})}),a&&(0,i.jsx)("span",{children:e.error})]})},l=function(t,s,e,o){let a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},n=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,i.jsxs)("div",{children:[(0,i.jsx)(r.Z,{name:t,placeholder:s,component:e,validate:o,...a}),n]})}},8155:(t,s,e)=>{e.d(s,{C1:()=>o,DT:()=>r,oQ:()=>i});const o=t=>{if(!t)return"Field is required"},r=t=>s=>{if(s&&s.length>t)return"Max symbol ".concat(t)},i=t=>s=>{if(s&&s.length<t)return"Min symbol ".concat(t)}},2233:(t,s,e)=>{e.d(s,{Z:()=>o});const o={formControl:"formsControl_formControl__8tjrF","form\u0421ontrol":"formsControl_form\u0421ontrol__HovIe",error:"formsControl_error__aNckz",formErrorDiv:"formsControl_formErrorDiv__V0-P4"}}}]);
//# sourceMappingURL=989.cad820e5.chunk.js.map